/**
 * Focus Modes CSS
 * Layouts and styling for different focus modes
 */

/* ===== Focus Mode Body Classes ===== */

/* Normal mode: default behavior */
body.focus-normal {
  /* Use default layout */
}

/* Recording Focus: Maximize notes panel */
body.focus-recording .notes-panel {
  flex: 1;
  max-width: 100%;
}

body.focus-recording .transcription-panel {
  display: none !important;
}

body.focus-recording #ai-chat-drawer {
  display: none !important;
}

/* Review Focus: Hide AI tools, balanced content */
body.focus-review #ai-chat-drawer {
  display: none !important;
}

body.focus-review .content-area {
  margin-right: 0; /* Remove drawer spacing */
}

/* Study Focus: AI tools prominent */
body.focus-study #ai-chat-drawer {
  display: block;
  width: 400px;
}

body.focus-study .content-area {
  margin-right: 400px;
}

/* ===== Layout Classes ===== */

/* Split layout: balanced panels */
.layout-split .transcription-panel,
.layout-split .notes-panel {
  flex: 1;
  min-width: 0;
}

/* Single notes layout: notes take full width */
.layout-single-notes .notes-panel {
  flex: 1;
  max-width: 100%;
}

.layout-single-notes .transcription-panel {
  display: none;
}

/* Single transcription layout: transcription takes full width */
.layout-single-transcription .transcription-panel {
  flex: 1;
  max-width: 100%;
}

.layout-single-transcription .notes-panel {
  display: none;
}

/* AI prominent layout: make AI drawer wider */
.layout-ai-prominent #ai-chat-drawer {
  width: 450px;
}

.layout-ai-prominent .content-area {
  margin-right: 450px;
}

/* ===== Focus Mode Indicator ===== */

.focus-mode-indicator {
  position: fixed;
  bottom: 20px;
  left: 20px;
  z-index: 8000;
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  background: var(--bg-secondary, #2d2d2d);
  border: var(--border-medium) solid var(--border-color-neo);
  border-radius: var(--radius-neo-md);
  box-shadow: var(--shadow-neo-sm);
  cursor: pointer;
  transition: all 0.15s ease;
  opacity: 0;
  transform: translateY(10px);
  pointer-events: none;
}

.focus-mode-indicator.visible {
  opacity: 1;
  transform: translateY(0);
  pointer-events: all;
}

.focus-mode-indicator:hover {
  transform: translate(-2px, -2px);
  box-shadow: var(--shadow-neo-md);
}

.focus-mode-icon {
  font-size: 20px;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.focus-mode-text {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.focus-mode-name {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-primary, #ffffff);
}

.focus-mode-hint {
  font-size: 11px;
  color: var(--text-secondary, #aaaaaa);
}

/* Focus mode indicator animation */
@keyframes focusModePulse {
  0%, 100% {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  }
  50% {
    box-shadow: 0 4px 12px rgba(0, 122, 204, 0.5);
  }
}

.focus-mode-indicator.active {
  animation: focusModePulse 2s ease-in-out infinite;
}

/* ===== Focus Mode Selector Modal ===== */

.focus-mode-selector {
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 9500;
  background: var(--bg-primary, #1e1e1e);
  border: var(--border-thick) solid var(--border-color-neo);
  border-radius: var(--radius-neo-xl);
  padding: 24px;
  box-shadow: var(--shadow-neo-lg);
  min-width: 500px;
  max-width: 600px;
}

.focus-mode-selector.visible {
  display: block;
}

.focus-mode-selector-header {
  margin-bottom: 20px;
}

.focus-mode-selector-title {
  font-size: 18px;
  font-weight: 700;
  color: var(--text-primary, #ffffff);
  margin-bottom: 8px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.focus-mode-selector-subtitle {
  font-size: 13px;
  color: var(--text-secondary, #aaaaaa);
}

.focus-mode-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
  margin-bottom: 20px;
}

.focus-mode-option {
  padding: 16px;
  background: var(--bg-secondary, #2d2d2d);
  border: var(--border-medium) solid var(--border-color-neo);
  border-radius: var(--radius-neo-md);
  cursor: pointer;
  transition: all 0.15s ease;
  display: flex;
  align-items: flex-start;
  gap: 12px;
  box-shadow: var(--shadow-neo-sm);
}

.focus-mode-option:hover {
  transform: translate(-2px, -2px);
  box-shadow: var(--shadow-neo-md);
}

.focus-mode-option.active {
  background: var(--accent, #007acc);
  color: #ffffff;
  box-shadow: var(--shadow-neo-md);
}

.focus-mode-option-icon {
  font-size: 24px;
  flex-shrink: 0;
}

.focus-mode-option-content {
  flex: 1;
}

.focus-mode-option-name {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-primary, #ffffff);
  margin-bottom: 4px;
}

.focus-mode-option-description {
  font-size: 12px;
  color: var(--text-secondary, #aaaaaa);
  line-height: 1.4;
}

.focus-mode-selector-footer {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  padding-top: 16px;
  border-top: var(--border-medium) solid var(--border-color-neo);
}

.focus-mode-selector-btn {
  padding: 8px 16px;
  border-radius: var(--radius-neo-sm);
  font-size: 13px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.15s ease;
  border: var(--border-medium) solid var(--border-color-neo);
  box-shadow: var(--shadow-neo-sm);
}

.focus-mode-selector-btn-cancel {
  background: var(--bg-secondary, #2d2d2d);
  color: var(--text-secondary, #aaaaaa);
}

.focus-mode-selector-btn-cancel:hover {
  transform: translate(-2px, -2px);
  box-shadow: var(--shadow-neo-md);
}

.focus-mode-selector-btn-apply {
  background: var(--accent, #007acc);
  color: #ffffff;
}

.focus-mode-selector-btn-apply:hover {
  transform: translate(-2px, -2px);
  box-shadow: var(--shadow-neo-md);
}

.focus-mode-selector-btn:active {
  transform: translate(1px, 1px);
  box-shadow: 2px 2px 0 var(--border-color-neo);
}

/* Overlay for focus mode selector */
.focus-mode-overlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  z-index: 9400;
}

.focus-mode-overlay.visible {
  display: block;
}

/* ===== Responsive Design ===== */

@media (max-width: 768px) {
  .focus-mode-indicator {
    bottom: 80px;
    left: 16px;
  }

  .focus-mode-selector {
    min-width: 90%;
    max-width: 90%;
  }

  .focus-mode-grid {
    grid-template-columns: 1fr;
  }

  body.focus-study #ai-chat-drawer {
    width: 100%;
  }

  body.focus-study .content-area {
    margin-right: 0;
  }

  .layout-ai-prominent #ai-chat-drawer {
    width: 100%;
  }

  .layout-ai-prominent .content-area {
    margin-right: 0;
  }
}

/* ===== Accessibility ===== */

.focus-mode-option:focus {
  outline: 2px solid var(--accent, #007acc);
  outline-offset: 2px;
}

.focus-mode-selector-btn:focus {
  outline: 2px solid var(--accent, #007acc);
  outline-offset: 2px;
}

/* ===== Reduced Motion ===== */

@media (prefers-reduced-motion: reduce) {
  .focus-mode-indicator,
  .focus-mode-option,
  .focus-mode-selector-btn {
    transition: none !important;
  }

  .focus-mode-indicator.active {
    animation: none !important;
  }
}

/* ===== Print Styles ===== */

@media print {
  .focus-mode-indicator,
  .focus-mode-selector,
  .focus-mode-overlay {
    display: none !important;
  }
}
